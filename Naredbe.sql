CREATE TABLE SUDIJA
(
	ID NUMBER(5) CONSTRAINT SUDIJA_PK PRIMARY KEY
);
CREATE TABLE SAHISTA(
	ID NUMBER(5) CONSTRAINT SAHISTA_PK PRIMARY KEY,
	IME VARCHAR(20) NOT NULL,
	PREZIME VARCHAR(20) NOT NULL,
	GRAD VARCHAR(30),
	ULICA VARCHAR(50),
	BROJ VARCHAR(15),
	REG_BROJ NUMBER (8) CONSTRAINT UNIQUE_SAHISTA_REG_BROJ UNIQUE,
	ZEMLJA_POREKLA VARCHAR(20),
	DATUM_RODJENJA DATE,
	BROJ_PASOSA NUMBER(13),
	DATUM_UCLANJENJA DATE,
	JeOBICAN NUMBER(1) CONSTRAINT SAHISTA_OBICAN_CK CHECK (JeOBICAN = 0 OR JeOBICAN = 1),
	JeKANDIDAT NUMBER(1) CONSTRAINT SAHISTA_KANDIDAT_CK CHECK (JeKANDIDAT = 0 OR JeKANDIDAT = 1),
	JeMAJSTOR NUMBER(1) CONSTRAINT SAHISTA_MAJSTOR_CK CHECK (JeMAJSTOR = 0 OR JeMAJSTOR = 1),
	BR_NEDOST_PARTIJA NUMBER(3),
	ZVANJE VARCHAR(20),
	DATUM_STICANJA DATE,
	SUDIJA NUMBER(5) CONSTRAINT SAHISTA_SUDIJA_FK REFERENCES SUDIJA
);
CREATE TABLE ORGANIZATOR
(
	ID NUMBER(5) CONSTRAINT ORGANIZATOR_PK PRIMARY KEY,
	IME VARCHAR(20) NOT NULL,
	PREZIME VARCHAR(20) NOT NULL,
	GRAD VARCHAR(30),
	ULICA VARCHAR(50),
	BROJ VARCHAR(15),
	JMBG NUMBER(13) NOT NULL,
	SUDIJA NUMBER(5) CONSTRAINT ORGANIZATOR_SUDIJA_FK REFERENCES SUDIJA
);
CREATE TABLE TURNIR
(
	ID NUMBER(5) CONSTRAINT TURNIR_PK PRIMARY KEY,
	NAZIV VARCHAR(50) NOT NULL,
	ZEMLJA VARCHAR(20) NOT NULL,
	GRAD VARCHAR(30) NOT NULL,
	GODINA NUMBER(4),
	DATUM_POC DATE,
	DATUM_KRAJ DATE,
	JeNORMALNI NUMBER(1) CONSTRAINT TURNIR_NORMALNI_CK CHECK (JeNORMALNI = 0 OR JeNORMALNI = 1),
	JeBRZOPOTEZNI NUMBER(1) CONSTRAINT TURNIR_BRZOPOTEZNI_CK CHECK (JeBRZOPOTEZNI = 0 OR JeBRZOPOTEZNI = 1),
	JeEGZIBICIONI NUMBER(1) CONSTRAINT TURNIR_EGZIBICIONI_CK CHECK (JeEGZIBICIONI = 0 OR JeEGZIBICIONI = 1),
	JePROMOTIVNI NUMBER(1) CONSTRAINT TURNIR_PROMOTIVNI_CK CHECK (JePROMOTIVNI = 0 OR JePROMOTIVNI = 1),
	JeHUMANITARNI NUMBER(1) CONSTRAINT TURNIR_HUMANITARNI_CK CHECK (JeHUMANITARNI = 0 OR JeHUMANITARNI = 1),
	VREME NUMBER (2),
	ZNACAJ VARCHAR(50),
	SUMA NUMBER(5),
	PRIMALAC VARCHAR(50)
);
CREATE TABLE SPONZOR
(
	ID NUMBER(5) CONSTRAINT SPONZOR_PK PRIMARY KEY,
	NAZIV VARCHAR(50) NOT NULL,
	TURNIR NUMBER(5) CONSTRAINT SPONZOR_TURNIR_FK REFERENCES TURNIR
);
CREATE TABLE ORGANIZUJE
(
	ID NUMBER(5) CONSTRAINT ORGANIZUJE_PK PRIMARY KEY,
	ORGANIZATOR NUMBER(5) CONSTRAINT ORGANIZUJE_ORGANIZATOR_FK REFERENCES ORGANIZATOR,
	TURNIR NUMBER(5) CONSTRAINT ORGANIZUJE_TURNIR_FK REFERENCES TURNIR
);
CREATE TABLE PARTIJA
(
	ID NUMBER(5) CONSTRAINT PARTIJA_PK PRIMARY KEY,
	DATUM DATE,
	VREME TIMESTAMP,
	TRAJANJE NUMBER(3),
	ISHOD VARCHAR(50) NOT NULL,
	BELI_SAHISTA NUMBER(5) CONSTRAINT PARTIJA_BRLI_SAHISTA_FK REFERENCES SAHISTA,
	CRNI_SAHISTA NUMBER(5) CONSTRAINT PARTIJA_CRNI_SAHISTA_FK REFERENCES SAHISTA,
	TURNIR NUMBER(5) CONSTRAINT PARTIJA_TURNIR_FK REFERENCES TURNIR,
	SUDIJA NUMBER(5) CONSTRAINT PARTIJA_SUDIJA_FK REFERENCES SUDIJA
);
CREATE TABLE POTEZ
(
	ID NUMBER(5) CONSTRAINT POTEZ_PK PRIMARY KEY,
	PARTIJA NUMBER(5) CONSTRAINT POTEZ_PARTIJA_FK REFERENCES PARTIJA,
	BROJ NUMBER(3),
	POTEZ VARCHAR(10),
	VREME TIMESTAMP
);



--UNOS PODATAKA
--SUDIJA
INSERT INTO SUDIJA VALUES(1);
INSERT INTO SUDIJA VALUES(2);
INSERT INTO SUDIJA VALUES(3);
INSERT INTO SUDIJA VALUES(4);
INSERT INTO SUDIJA VALUES(5);
INSERT INTO SUDIJA VALUES(6);

--SAHISTA
INSERT INTO SAHISTA VALUES(1,'Magnus','Carlsen','Tonsberg',null,null,10000000,'Norway',TO_DATE('30/11/1990', 'DD/MM/YYYY'),null,null,0,0,1,null,'Grandmaster',TO_DATE('26/4/2004', 'DD/MM/YYYY'),null);
INSERT INTO SAHISTA VALUES(2,'Hikaru','Nakamura','Hirakata',null,null,10000001,'Japan',TO_DATE('9/12/1987', 'DD/MM/YYYY'),null,null,0,0,1,null,'Grandmaster',TO_DATE('1/1/2003', 'DD/MM/YYYY'),null);
INSERT INTO SAHISTA VALUES(3,'Dejan','Tasev','Beograd',null,null,10000002,'Serbia',TO_DATE('2/2/1990', 'DD/MM/YY'),null,null,0,1,0,50,'Fide master',TO_DATE('4/3/2009','DD/MM/YY'),null);
INSERT INTO SAHISTA VALUES(4,'Nikola','Tosic','Pirot',null,null,10000003,'Serbia',TO_DATE('28/6/1999', 'DD/MM/YY'),null,null,1,0,0,null,'Obican igrac',null,null);
INSERT INTO SAHISTA VALUES(5, 'Levon','Aronian','Yerevan',null,null,10000004,'Armenia',TO_DATE('6/10/1982','DD/MM/YY'),null,null,0,0,1,null,'Grandmaster',TO_DATE('6/6/2000','DD/MM/YY'),null);

-- ORGANIZATOR
INSERT INTO ORGANIZATOR VALUES(1,'Wynn','Dozeaplikayshun','Krakow',null,null,1000000000000,2);
INSERT INTO ORGANIZATOR VALUES(2,'Petar','Petrovic','Belgrade',null,null,1000000000001,1);
INSERT INTO ORGANIZATOR VALUES(3,'Wes','Yabinlatelee','Helsinki',null,null,1000000000002,5);
INSERT INTO ORGANIZATOR VALUES(4,'Stanley','Knife','Washington',null,null,1000000000003,3);
INSERT INTO ORGANIZATOR VALUES(5,'Santi','Argo','Madrid',null,null,1000000000004,4);

--TURNIR
INSERT INTO TURNIR VALUES (1,'Capablanca Memorial','Cuba','Havana',2019,TO_DATE('3/5/2019', 'DD/MM/YYYY'),TO_DATE('13/5/2019', 'DD/MM/YYYY'),1,0,0,0,0,null,null,null,null);
INSERT INTO TURNIR VALUES (2,'Russian Chess Championship','Russia','Moscow',2020,TO_DATE('5/12/2020', 'DD/MM/YYYY'),TO_DATE('16/12/2020', 'DD/MM/YYYY'),1,0,0,0,0,null,null,null,null);
INSERT INTO TURNIR VALUES (3,'World Rapid and Blitz Chess Championships','Russia','Moscow',2019,TO_DATE('26/12/2019', 'DD/MM/YYYY'),TO_DATE('30/12/2019', 'DD/MM/YYYY'),0,1,0,0,0,15,null,null,null);
INSERT INTO TURNIR VALUES (4,'London Chess Classic','United Kingdom','London',2019,TO_DATE('9/12/2019', 'DD/MM/YYYY'),TO_DATE('18/12/2019', 'DD/MM/YYYY'),1,0,0,0,0,null,null,null,null);
INSERT INTO TURNIR VALUES (5,'7th Grand Slam Masters Final','Spain','Bilbao',2014,TO_DATE('14/9/2014', 'DD/MM/YYYY'),TO_DATE('20/9/2014', 'DD/MM/YYYY'),1,0,0,0,0,null,null,null,null);

--SPONZOR
INSERT INTO SPONZOR VALUES(1,'Kaspersky',2);
INSERT INTO SPONZOR VALUES(2,'Unibet',1);
INSERT INTO SPONZOR VALUES(3,'Prytek',3);

--ORGANIZUJE
INSERT INTO ORGANIZUJE VALUES(1,2,2);
INSERT INTO ORGANIZUJE VALUES(2,5,3);
INSERT INTO ORGANIZUJE VALUES(3,1,1);

--PARTIJA
INSERT INTO PARTIJA VALUES(1,TO_DATE('27/12/2019','DD/MM/YY'),TIMESTAMP '2019-12-27 15:00:00',90,'Beli pobedio',1,2,3,5);
INSERT INTO PARTIJA VALUES(2,TO_DATE('28/10/2019','DD/MM/YY'),TIMESTAMP '2019-10-28 15:00:00',90,'Remi(Ponavljanje pozicije)',2,5,3,4);
INSERT INTO PARTIJA VALUES(3,TO_DATE('29/10/2019','DD/MM/YY'),TIMESTAMP '2019-10-29 15:00:00',90,'Crni pobedio',5,1,3,1);
INSERT INTO PARTIJA VALUES(4,TO_DATE('6/12/2020','DD/MM/YY'),TIMESTAMP '2020-12-6 10:30:00',90,'Beli pobedio',5,2,2,2);
INSERT INTO PARTIJA VALUES(5,TO_DATE('7/12/2020','DD/MM/YY'),TIMESTAMP '2020-12-7 10:30:00',90,'Remi(Pat)',2,1,2,5);

--POTEZ
INSERT INTO POTEZ VALUES(1,4,1,'e4',TIMESTAMP '2020-12-6 10:30:01');
INSERT INTO POTEZ VALUES(2,4,2,'e5',TIMESTAMP '2020-12-6 10:30:02');
INSERT INTO POTEZ VALUES(3,4,3,'nf3',TIMESTAMP '2020-12-6 10:30:03');
INSERT INTO POTEZ VALUES(4,4,4,'nc6',TIMESTAMP '2020-12-6 10:30:04');
INSERT INTO POTEZ VALUES(5,4,5,'bb5',TIMESTAMP '2020-12-6 10:30:07');
